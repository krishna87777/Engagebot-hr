{% extends "base.html" %}

{% block title %}Resume Screening - HR-Tech Innovation{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/resume-screening.css') }}">
{% endblock %}

{% block content %}
<section class="page-header">
    <div class="container">
        <h1 class="slide-in">AI Resume Screening</h1>
        <p class="fade-in">Match candidate resumes to job requirements quickly and accurately.</p>
    </div>
</section>

<section class="resume-screening">
    <div class="container">
        <div class="screening-container">
            <div class="form-container bounce-in">
                <h2>Upload Resume & Job Description</h2>
                <form id="resume-screening-form" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="resume">Upload Resume (PDF, DOCX, TXT)</label>
                        <div class="file-upload">
                            <input type="file" id="resume" name="resume" accept=".pdf,.docx,.txt" required>
                            <div class="upload-label">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <span>Drag & drop or click to upload</span>
                            </div>
                        </div>
                        <small id="file-name">No file selected</small>
                    </div>

                    <div class="form-group">
                        <label for="job-description">Job Description</label>
                        <textarea id="job-description" name="job_description" rows="8" placeholder="Paste the job description here..." required></textarea>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn primary pulse">
                            <i class="fas fa-search"></i> Screen Resume
                        </button>
                        <button type="reset" class="btn secondary">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                    </div>
                </form>
            </div>

            <div class="results-container fade-in">
                <div id="loading" class="loading hidden">
                    <div class="spinner"></div>
                    <p>Processing your resume...</p>
                </div>

                <div id="results" class="hidden">
                    <h2>Screening Results</h2>

                    <div class="result-summary">
                        <div class="match-score">
                            <div class="score-circle">
                                <span id="match-percentage">0%</span>
                            </div>
                            <p>Match Score</p>
                        </div>

                        <div class="match-details">
                            <div class="match-item">
                                <i class="fas fa-check-circle"></i>
                                <span id="experience-match">Experience: N/A</span>
                            </div>
                            <div class="match-item">
                                <i class="fas fa-check-circle"></i>
                                <span id="education-match">Education: N/A</span>
                            </div>
                        </div>
                    </div>

                    <div class="skills-section">
                        <h3>Skills Analysis</h3>
                        <div class="skills-container">
                            <div class="skills-matched">
                                <h4>Skills Matched</h4>
                                <ul id="skills-matched-list"></ul>
                            </div>
                            <div class="skills-missing">
                                <h4>Skills Missing</h4>
                                <ul id="skills-missing-list"></ul>
                            </div>
                        </div>
                    </div>

                    <div class="recommendations">
                        <h3>AI Recommendations</h3>
                        <p id="recommendations-text"></p>
                    </div>

                    <div class="action-buttons">
                        <a href="#" id="download-results" class="btn secondary">
                            <i class="fas fa-download"></i> Download Report
                        </a>
                        <a href="#" id="new-screening" class="btn primary">
                            <i class="fas fa-plus"></i> New Screening
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/resume-screening.js') }}"></script>
{% endblock %}